}
}
output <- data.frame(
ticker=character(),
value=numeric(),
date = as.Date(character()),
stringsAsFactors=FALSE)
View(output)
View(output)
output <- data.frame(
hospital=character(),
state=numeric(),
stringsAsFactors=FALSE)
View(output)
output <- data.frame(
hospital=character(),
state=numeric(),
stringsAsFactors=FALSE)
for (i in unique(data$State))
{
if(outcome == "heart attack")
{
datState <- data[data$State==i,]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,11]==min(datState[,11],na.rm=TRUE))
output$hospital<- datState$Hospital.Name[index]
output$state <- i
}
else if (num=="worst")
{
index <- which(datState[,11]==max(datState[,11],na.rm=TRUE))
output$hospital<- datState$Hospital.Name[index]
output$state <- i
}
else output$hospital<- datState$Hospital.Name[num]
output$state <- i
}
}
View(output)
i
View(datState)
str(datState)
output$hospital<- datState$Hospital.Name[num]
datState$Hospital.Name[num]
output <- matrix(ncol=2,nrow=length(unique(data$State)))
View(output)
length(unique(data$State)
)
i = 1
unique(data$State)[i]
i = 6
unique(data$State)[i]
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character",na.strings = "Not Available")
validOutcome <- c('heart attack','heart failure','pneumonia')
output <- matrix(ncol=2,nrow=length(unique(data$State)))
for (i in 1:length(unique(data$State)))
{
if(outcome == "heart attack")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,11]==min(datState[,11],na.rm=TRUE))
output[i,]<- datState$Hospital.Name[index]
output[,i] <- i
}
else if (num=="worst")
{
index <- which(datState[,11]==max(datState[,11],na.rm=TRUE))
output[i,]<- datState$Hospital.Name[index]
output[,i] <- i
}
else output[i,]<- datState$Hospital.Name[num]
output[,i] <- i
}
}
}
i
View(output)
output[1,6]
output[6,1]
output[18,1]
output[18,2]
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character",na.strings = "Not Available")
validOutcome <- c('heart attack','heart failure','pneumonia')
output <- matrix(ncol=2,nrow=length(unique(data$State)))
for (i in 1:length(unique(data$State)))
{
if(outcome == "heart attack")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,11]==min(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- i
}
else if (num=="worst")
{
index <- which(datState[,11]==max(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- i
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- i
}
}
}
for (i in 1:length(unique(data$State)))
{
if(outcome == "heart attack")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,11]==min(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- i
}
else if (num=="worst")
{
index <- which(datState[,11]==max(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- i
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- i
}
}
source("rankall.R")
rankall("heart attack", 20), 10)
rankall("heart attack", 20)
datState$Hospital.Name[num]
i = 1
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
datState$Hospital.Name[num]
unique(data$State)[i]
num
num=20
datState$Hospital.Name[num]
output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- unique(data$State)[i]
source("rankall.R")
rankall("heart attack", 20)
source("rankall.R")
rankall("heart attack", 20)
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
tail(rankall("pneumonia", "worst"), 3)
tail(rankall("heart failure"), 10)
head(rankall("heart attack", 20), 10)
outcome == "heart pneumonia"
outcome = "heart pneumonia"
num ="worst"
datState <- data[data$State==unique(data$State)[i],]
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character",na.strings = "Not Available")
validOutcome <- c('heart attack','heart failure','pneumonia')
source("rankall.R")
tail(rankall("pneumonia", "worst"), 3)
source("rankall.R")
tail(rankall("pneumonia", "worst"), 3)
outcome ="pneumonia"
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character",na.strings = "Not Available")
num="worst"
datState <- data[data$State==unique(data$State)[i],]
i = 1
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,23])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia,datState$Hospital.Name),]
index <- which(datState[,23]==max(datState[,23],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
output <- matrix(ncol=2,nrow=length(unique(data$State)))
index <- which(datState[,23]==max(datState[,23],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
for (i in 1:length(unique(data$State)))
{
if(outcome == "heart attack")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,11]==min(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else if (num=="worst")
{
index <- which(datState[,11]==max(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- unique(data$State)[i]
}
if(outcome == "heart failure")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,17])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,17]==min(datState[,17],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else if (num=="worst")
{
index <- which(datState[,17]==max(datState[,17],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- unique(data$State)[i]
}
if(outcome == "pneumonia")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,23])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,23]==min(datState[,23],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else if (num=="worst")
{
index <- which(datState[,23]==max(datState[,23],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- unique(data$State)[i]
}
}
i
datState$Hospital.Name[index]
View(datState)
index
max(which(datState[,23]==max(datState[,23],na.rm=TRUE)))
,datState$Hospital.Name
datState$Hospital.Name
output <- matrix(ncol=2,nrow=length(unique(data$State)))
for (i in 1:length(unique(data$State)))
{
if(outcome == "heart attack")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,11]==min(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else if (num=="worst")
{
index <- which(datState[,11]==max(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- unique(data$State)[i]
}
if(outcome == "heart failure")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,17])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,17]==min(datState[,17],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else if (num=="worst")
{
index <- which(datState[,17]==max(datState[,17],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- unique(data$State)[i]
}
if(outcome == "pneumonia")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,23])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,23]==min(datState[,23],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else if (num=="worst")
{
index <- max(which(datState[,23]==max(datState[,23],na.rm=TRUE)))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- unique(data$State)[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- unique(data$State)[i]
}
}
output <-as.data.frame(output)
tail(output,3)
source("rankall.R")
tail(rankall("heart failure"), 10)
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,23])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia,datState$Hospital.Name),]
View(datState)
sort(unique(data$State))
source("rankall.R")
head(rankall("heart attack", 20), 10)
sort(unique(data$State))[i]
sort(unique(data$State))[i]
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
head(rankall("heart attack", 20), 10)
source("rankall.R")
source("rankall.R")
tail(rankall("pneumonia", "worst"), 3)
num="worst"
outcome = "pneumonia"
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character",na.strings = "Not Available")
validOutcome <- c('heart attack','heart failure','pneumonia')
output <- matrix(ncol=2,nrow=length(unique(data$State)))
for (i in 1:length(sort(unique(data$State))))
{
if(outcome == "heart attack")
{
datState <- data[data$State==sort(unique(data$State))[i],]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,11]==min(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- sort(unique(data$State))[i]
}
else if (num=="worst")
{
index <- which(datState[,11]==max(datState[,11],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- sort(unique(data$State))[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- sort(unique(data$State))[i]
}
if(outcome == "heart failure")
{
datState <- data[data$State==sort(unique(data$State))[i],]
datState[,11] <-as.numeric(datState[,17])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Failure,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,17]==min(datState[,17],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- sort(unique(data$State))[i]
}
else if (num=="worst")
{
index <- which(datState[,17]==max(datState[,17],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- sort(unique(data$State))[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- sort(unique(data$State))[i]
}
if(outcome == "pneumonia")
{
datState <- data[data$State==unique(data$State)[i],]
datState[,11] <-as.numeric(datState[,23])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Pneumonia,datState$Hospital.Name),]
if (num=="best")
{
index <- which(datState[,23]==min(datState[,23],na.rm=TRUE))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- sort(unique(data$State))[i]
}
else if (num=="worst")
{
index <- max(which(datState[,23]==max(datState[,23],na.rm=TRUE)))
output[i,1]<- datState$Hospital.Name[index]
output[i,2] <- sort(unique(data$State))[i]
}
else output[i,1]<- datState$Hospital.Name[num]
output[i,2] <- sort(unique(data$State))[i]
}
}
sort(unique(data$State))[i]
output <-as.data.frame(output)
View(output)
View(datState)
i
source("rankall.R")
tail(rankall("pneumonia", "worst"), 3)
datState <- data[data$State==unique(data$State)[i],]
View(datState)
source("rankall.R")
tail(rankall("pneumonia", "worst"), 3)
source("rankall.R")
tail(rankall("pneumonia", "worst"), 3)
source("rankall.R")
tail(rankall("pneumonia", "worst"), 3)
source("rankall.R")
tail(rankall("heart failure"), 10)
source("rankall.R")
tail(rankall("heart failure"), 10)
source('best.R')
best("SC", "heart attack")
best("NY", "pneumonia")
best("AK", "pneumonia")
rankhospital("NC", "heart attack", "worst")
source('rankhospital.R')
rankhospital("NC", "heart attack", "worst")
source('rankhospital.R')
rankhospital("NC", "heart attack", "worst")
rankhospital("NC", "heart attack", "best")
source('rankhospital.R')
rankhospital("NC", "heart attack", "best")
rankhospital("WA", "heart attack", 7)
rankhospital("TX", "pneumonia", 10)
rankhospital("NY", "heart attack", 7)
r <- rankall("heart attack", 4)
as.character(subset(r, state == "HI")$hospital)
r <- rankall("pneumonia", "worst")
as.character(subset(r, state == "NJ")$hospital)
r <- rankall("heart failure", 10)
as.character(subset(r, state == "NV")$hospital)
rankhospital("NC", "heart attack", "worst")
rankhospital("NC", "heart attack", 6)
data <- read.csv("outcome-of-care-measures.csv", colClasses = "character",na.strings = "Not Available")
validOutcome <- c('heart attack','heart failure','pneumonia')
outcome = "heart attack"
datState <- data[data$State==state,]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
state ='NC'
datState <- data[data$State==state,]
datState[,11] <-as.numeric(datState[,11])
datState <- datState[order(datState$Hospital.30.Day.Death..Mortality..Rates.from.Heart.Attack,datState$Hospital.Name),]
num="worst"
num=="worst"
index <- which(datState[,11]==max(datState[,11],na.rm=TRUE))
hospitalName<- datState$Hospital.Name[index]
source('rankhospital.R')
outcome == "heart attack"
rankhospital("NC", "heart attack", "worst")
install.packages("rprime", lib="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(rprime)
file<-read_eprime('/Users/natht02/Desktop/NYU/Stan_data/ePrime/FACES_2/B1001C_V1_A_FACES_2_EMOTION_run1.txt')
file1<-as.data.frame(file
)
View(file1)
library(rprime)
experiment_lines<-read_eprime('/Users/natht02/Desktop/NYU/Stan_data/ePrime/FACES_2/B1001C_V1_A_FACES_2_EMOTION_run1.txt')
experiment_data <- FrameList(experiment_lines)
file<-read_eprime('/Users/natht02/Desktop/NYU/Stan_data/ePrime/FACES_2/B1001C_V1_A_FACES_2_EMOTION_run1.txt')
library(rprime)
experiment_lines<-read_eprime('/Users/natht02/Desktop/NYU/Stan_data/ePrime/FACES_2/B1001C_V1_A_FACES_2_EMOTION_run1.txt')
experiment_data <- FrameList(experiment_lines)
preview_levels(experiment_data)
preview_frames(experiment_data)
test<-as.data.frame(experiment_data)
View(test)
not_level_1 <- drop_levels(experiment_data, 1)
preview_levels(not_level_1)
not_level_1 <- drop_levels(experiment_data, 1)
?drop_levels()
install.packages("XML", lib="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(XML)
experiment_lines<-read_eprime('/Users/natht02/Desktop/NYU/Stan_data/ePrime/FACES_2/B1001C_V1_A_FACES_2_EMOTION_run1.xml')
experiment_lines<-'/Users/natht02/Desktop/NYU/Stan_data/ePrime/FACES_2/B1001C_V1_A_FACES_2_EMOTION_run1.xml'
xmlToDataFrame(experiment_lines)
features <- read.table("./UCI HAR Dataset/features.txt")[,2]
setwd("/Users/tanmaynath/Dropbox/DataScience/Coursera/gettingAndCleaningdata/")
library("reshape2")
#Load feature names
features <- read.table("./UCI HAR Dataset/features.txt")[,2]
?group_by
install.packages("deplyr", lib="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
install.packages("dplyr", lib="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(dplyr)
library(dplyr)
library("reshape2")
library("dplyr")
install.packages("dplyr",repos="http://cran.r-project.org")
library("dplyr")
?abline
par(abline)
